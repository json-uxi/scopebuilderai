<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScopeBuilderAI - AI Proposal Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        .proposal-card {
            box-shadow: 0 4px 6px rgba(0, 123, 255, 0.1);
            transition: all 0.3s ease;
        }
        .proposal-card:hover {
            box-shadow: 0 10px 15px rgba(0, 123, 255, 0.1);
        }
        .watermark {
            opacity: 0.1;
            position: absolute;
            z-index: 1000;
            transform: rotate(-45deg);
            font-size: 48px;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-white shadow-sm py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-blue-600">ScopeBuilderAI</h1>
            <div class="relative">
                <select id="languageToggle" class="appearance-none bg-white border border-gray-300 rounded-md px-3 py-1 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="en">English</option>
                    <option value="hi">हिंदी (Hindi)</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                    <i data-feather="chevron-down" class="w-4 h-4"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8">
        <div class="max-w-3xl mx-auto">
            <!-- Form Section -->
            <section class="bg-white rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-xl font-semibold text-gray-800 mb-6" data-i18n="formTitle">Create New Proposal</h2>
                <form id="proposalForm" class="space-y-4">
                    <div>
                        <label for="clientName" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="clientName">Client Name</label>
                        <input type="text" id="clientName" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label for="projectBrief" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="projectBrief">Project Brief</label>
                        <textarea id="projectBrief" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Describe the project requirements..." data-i18n-placeholder="briefPlaceholder"></textarea>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label for="budget" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="budget">Budget Range ($)</label>
                            <input type="number" id="budget" min="100" max="10000" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="deadline" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="deadline">Deadline</label>
                            <input type="date" id="deadline" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        
                        <div>
                            <label for="vertical" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="vertical">Service Vertical</label>
                            <select id="vertical" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="" data-i18n="selectVertical">Select Vertical</option>
                                <option value="web" data-i18n="webDev">Web Development</option>
                                <option value="content" data-i18n="contentWriting">Content Writing</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="pt-2">
                        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-150 ease-in-out" data-i18n="generateBtn">
                            Generate Proposal
                        </button>
                    </div>
                </form>
            </section>

            <!-- Proposal Preview Section -->
            <section id="proposalPreview" class="hidden bg-white rounded-lg shadow-md p-6 mb-8 proposal-card">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-semibold text-gray-800" data-i18n="proposalTitle">Proposal Preview</h2>
                    <div class="flex space-x-2">
                        <button id="copyBtn" class="flex items-center text-sm bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-3 rounded-md transition duration-150 ease-in-out">
                            <i data-feather="copy" class="w-4 h-4 mr-1"></i>
                            <span data-i18n="copyBtn">Copy</span>
                        </button>
                        <button id="pdfBtn" class="flex items-center text-sm bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-3 rounded-md transition duration-150 ease-in-out">
                            <i data-feather="download" class="w-4 h-4 mr-1"></i>
                            <span data-i18n="pdfBtn">PDF</span>
                        </button>
                    </div>
                </div>
                
                <div id="proposalContent" class="prose max-w-none">
                    <!-- Generated content will appear here -->
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t py-4">
        <div class="container mx-auto px-4 text-center text-sm text-gray-500">
            <p data-i18n="disclaimer">Customize before sending. For personal use.</p>
        </div>
    </footer>

    <script>
        // Language translations
        const translations = {
            en: {
                formTitle: "Create New Proposal",
                clientName: "Client Name",
                projectBrief: "Project Brief",
                briefPlaceholder: "Describe the project requirements...",
                budget: "Budget Range ($)",
                deadline: "Deadline",
                vertical: "Service Vertical",
                selectVertical: "Select Vertical",
                webDev: "Web Development",
                contentWriting: "Content Writing",
                generateBtn: "Generate Proposal",
                proposalTitle: "Proposal Preview",
                copyBtn: "Copy",
                pdfBtn: "PDF",
                disclaimer: "Customize before sending. For personal use.",
                scopeTitle: "Scope of Work",
                milestonesTitle: "Project Milestones",
                pricingTitle: "Pricing Packages",
                starter: "Starter",
                growth: "Growth",
                pro: "Pro",
                validationBrief: "Please enter a project brief",
                validationVertical: "Please select a service vertical"
            },
            hi: {
                formTitle: "नया प्रस्ताव बनाएं",
                clientName: "ग्राहक का नाम",
                projectBrief: "प्रोजेक्ट का विवरण",
                briefPlaceholder: "प्रोजेक्ट की आवश्यकताओं का वर्णन करें...",
                budget: "बजट सीमा ($)",
                deadline: "समाप्ति तिथि",
                vertical: "सेवा क्षेत्र",
                selectVertical: "क्षेत्र चुनें",
                webDev: "वेब विकास",
                contentWriting: "कंटेंट लेखन",
                generateBtn: "प्रस्ताव बनाएं",
                proposalTitle: "प्रस्ताव पूर्वावलोकन",
                copyBtn: "कॉपी करें",
                pdfBtn: "पीडीएफ",
                disclaimer: "भेजने से पहले अनुकूलित करें। व्यक्तिगत उपयोग के लिए।",
                scopeTitle: "कार्य का दायरा",
                milestonesTitle: "प्रोजेक्ट माइलस्टोन",
                pricingTitle: "मूल्य निर्धारण पैकेज",
                starter: "शुरुआती",
                growth: "विकास",
                pro: "पेशेवर",
                validationBrief: "कृपया प्रोजेक्ट विवरण दर्ज करें",
                validationVertical: "कृपया सेवा क्षेत्र चुनें"
            }
        };

        // Templates for different verticals
        const templates = {
            web: {
                scope: [
                    "Discovery & wireframes",
                    "UI/UX design",
                    "Frontend build",
                    "Backend/CMS integration",
                    "QA testing & launch"
                ],
                milestones: [
                    "Week 1: Discovery phase",
                    "Week 2-3: Design phase",
                    "Week 4-6: Development",
                    "Week 7: QA & Launch"
                ],
                pricing: {
                    starter: "5 pages ($500 - $1,000)",
                    growth: "10-15 pages ($2,000 - $5,000)",
                    pro: "15+ pages ($5,000+)"
                }
            },
            content: {
                scope: [
                    "Keyword research",
                    "Content outlining",
                    "Writing & editing",
                    "SEO optimization",
                    "CMS formatting"
                ],
                milestones: [
                    "Days 1-3: Research phase",
                    "Days 4-7: Drafting content",
                    "Days 8-10: Revisions"
                ],
                pricing: {
                    starter: "4 posts/month ($200)",
                    growth: "8 posts/month ($500)",
                    pro: "12+ posts/month ($800)"
                }
            }
        };

        // Current language
        let currentLang = 'en';

        // DOM elements
        const languageToggle = document.getElementById('languageToggle');
        const proposalForm = document.getElementById('proposalForm');
        const proposalPreview = document.getElementById('proposalPreview');
        const proposalContent = document.getElementById('proposalContent');
        const copyBtn = document.getElementById('copyBtn');
        const pdfBtn = document.getElementById('pdfBtn');

        // Initialize Feather Icons
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
            
            // Language toggle event
            languageToggle.addEventListener('change', function() {
                currentLang = this.value;
                updateLanguage();
            });
            
            // Form submission
            proposalForm.addEventListener('submit', function(e) {
                e.preventDefault();
                generateProposal();
            });
            
            // Copy button
            copyBtn.addEventListener('click', function() {
                copyToClipboard();
            });
            
            // PDF button
            pdfBtn.addEventListener('click', function() {
                generatePDF();
            });
        });

        // Update language
        function updateLanguage() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                el.textContent = translations[currentLang][key];
            });
            
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                el.placeholder = translations[currentLang][key];
            });
        }

        // Generate proposal
        function generateProposal() {
            const brief = document.getElementById('projectBrief').value;
            const vertical = document.getElementById('vertical').value;
            
            // Basic validation
            if (!brief) {
                alert(translations[currentLang].validationBrief);
                return;
            }
            
            if (!vertical) {
                alert(translations[currentLang].validationVertical);
                return;
            }
            
            const clientName = document.getElementById('clientName').value || 'Client';
            const budget = document.getElementById('budget').value;
            const deadline = document.getElementById('deadline').value;
            
            const template = templates[vertical];
            
            // Generate HTML content
            let html = `
                <h3 class="text-lg font-semibold mb-2">${clientName}</h3>
                ${brief ? `<p class="mb-4">${brief}</p>` : ''}
                
                <h4 class="font-semibold mt-6 mb-2">${translations[currentLang].scopeTitle}</h4>
                <ul class="list-disc pl-5 mb-4">
                    ${template.scope.map(item => `<li>${item}</li>`).join('')}
                </ul>
                
                <h4 class="font-semibold mt-6 mb-2">${translations[currentLang].milestonesTitle}</h4>
                <ul class="list-disc pl-5 mb-4">
                    ${template.milestones.map(item => `<li>${item}</li>`).join('')}
                </ul>
                
                <h4 class="font-semibold mt-6 mb-2">${translations[currentLang].pricingTitle}</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div class="border rounded-md p-4">
                        <h5 class="font-medium">${translations[currentLang].starter}</h5>
                        <p class="text-sm mt-1">${template.pricing.starter}</p>
                    </div>
                    <div class="border rounded-md p-4">
                        <h5 class="font-medium">${translations[currentLang].growth}</h5>
                        <p class="text-sm mt-1">${template.pricing.growth}</p>
                    </div>
                    <div class="border rounded-md p-4">
                        <h5 class="font-medium">${translations[currentLang].pro}</h5>
                        <p class="text-sm mt-1">${template.pricing.pro}</p>
                    </div>
                </div>
            `;
            
            if (budget) {
                html += `<p class="text-sm"><span class="font-medium">Budget:</span> $${budget}</p>`;
            }
            
            if (deadline) {
                const formattedDate = new Date(deadline).toLocaleDateString();
                html += `<p class="text-sm"><span class="font-medium">Deadline:</span> ${formattedDate}</p>`;
            }
            
            proposalContent.innerHTML = html;
            proposalPreview.classList.remove('hidden');
            
            // Scroll to preview
            proposalPreview.scrollIntoView({ behavior: 'smooth' });
        }

        // Copy to clipboard
        function copyToClipboard() {
            const range = document.createRange();
            range.selectNode(proposalContent);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
            
            // Show feedback
            const originalText = copyBtn.querySelector('span').textContent;
            copyBtn.querySelector('span').textContent = translations[currentLang].copyBtn === originalText ? 'Copied!' : 'कॉपी हो गया!';
            
            setTimeout(() => {
                copyBtn.querySelector('span').textContent = translations[currentLang].copyBtn;
            }, 2000);
        }

        // Generate PDF
        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Add watermark
            doc.setFontSize(48);
            doc.setTextColor(200, 200, 200);
            doc.text('Free Tier - ScopeBuilderAI', 20, 140, { angle: 45 });
            
            // Reset styles
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(12);
            
            // Get text content
            const clientName = document.getElementById('clientName').value || 'Client';
            const brief = document.getElementById('projectBrief').value;
            const budget = document.getElementById('budget').value;
            const deadline = document.getElementById('deadline').value;
            const vertical = document.getElementById('vertical').value;
            const template = templates[vertical];
            
            // Add content to PDF
            doc.setFontSize(16);
            doc.text(`Proposal for ${clientName}`, 14, 20);
            doc.setFontSize(12);
            
            if (brief) {
                doc.text('Project Brief:', 14, 30);
                const splitBrief = doc.splitTextToSize(brief, 180);
                doc.text(splitBrief, 14, 36);
            }
            
            // Scope
            doc.text('Scope of Work:', 14, 60);
            template.scope.forEach((item, index) => {
                doc.text(`- ${item}`, 20, 66 + (index * 6));
            });
            
            // Milestones
            doc.text('Project Milestones:', 14, 100);
            template.milestones.forEach((item, index) => {
                doc.text(`- ${item}`, 20, 106 + (index * 6));
            });
            
            // Pricing
            doc.text('Pricing
</body>
</html>
