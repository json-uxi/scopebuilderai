<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScopeBuilderAI - AI Proposal Generator for Freelancers</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        /* Reset & Base Styles */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; 
            line-height: 1.6; color: #2d3748; 
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%); 
            min-height: 100vh; padding: 20px; 
        }
        .container { max-width: 950px; margin: 0 auto; }

        /* Header - Modern Gradient Logo & Toggle */
        header { 
            text-align: center; padding: 40px 20px; 
            background: white; border-radius: 24px; 
            box-shadow: 0 10px 40px rgba(0,0,0,0.08); margin-bottom: 40px; 
            position: relative; overflow: hidden; 
        }
        header::before { 
            content: ''; position: absolute; top: 0; left: 0; right: 0; 
            height: 6px; background: linear-gradient(90deg, #4299e1, #3182ce, #2b6cb0, #2c5282); 
        }
        h1 { 
            font-size: 3.2em; font-weight: 800; 
            background: linear-gradient(135deg, #4299e1, #3182ce); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
            background-clip: text; margin-bottom: 12px; letter-spacing: -0.02em; 
        }
        .tagline { 
            color: #718096; font-size: 1.3em; font-weight: 400; 
            margin-bottom: 24px; max-width: 600px; margin-left: auto; margin-right: auto; 
        }
        #langToggle { 
            appearance: none; -webkit-appearance: none; 
            padding: 12px 24px; border: 2px solid #e2e8f0; border-radius: 50px; 
            background: white; cursor: pointer; font-size: 16px; color: #4a5568; 
            font-weight: 500; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e"); 
            background-position: right 12px center; background-repeat: no-repeat; background-size: 16px; 
            padding-right: 48px; 
        }
        #langToggle:hover, #langToggle:focus { 
            border-color: #4299e1; box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.1); 
            transform: translateY(-1px); 
        }
        #langToggle option { padding: 8px 12px; }

        /* Form Card - Professional Glassmorphism Design */
        .form-card { 
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); 
            padding: 48px; border-radius: 24px; box-shadow: 0 20px 60px rgba(0,0,0,0.1); 
            margin-bottom: 48px; border: 1px solid rgba(255, 255, 255, 0.2); 
            position: relative; overflow: hidden; 
        }
        .form-card::before { 
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; 
            background: radial-gradient(circle, rgba(66, 153, 225, 0.05) 0%, transparent 70%); 
            pointer-events: none; 
        }
        .form-title { 
            font-size: 1.8em; font-weight: 700; color: #2d3748; 
            margin-bottom: 32px; text-align: center; 
            background: linear-gradient(135deg, #4299e1, #3182ce); -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        }
        .form-group { margin-bottom: 28px; position: relative; }
        .form-group label { 
            display: block; margin-bottom: 8px; font-weight: 600; color: #4a5568; 
            font-size: 14px; text-transform: uppercase; letter-spacing: 0.5px; 
        }
        .form-group input, .form-group textarea, .form-group select { 
            width: 100%; padding: 16px 20px; border: 2px solid #e2e8f0; 
            border-radius: 12px; font-size: 16px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            background: rgba(255, 255, 255, 0.8); font-family: inherit; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.05); 
        }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus { 
            outline: none; border-color: #4299e1; 
            box-shadow: 0 0 0 4px rgba(66, 153, 225, 0.1), 0 4px 12px rgba(0,0,0,0.1); 
            background: white; transform: translateY(-1px); 
        }
        .form-group textarea { resize: vertical; min-height: 120px; }
        .form-group select { 
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e"); 
            background-position: right 16px center; background-repeat: no-repeat; background-size: 16px; 
            padding-right: 48px; cursor: pointer; 
        }
        .currency-input { position: relative; }
        .currency-input::before { 
            content: '$'; position: absolute; left: 20px; top: 50%; 
            transform: translateY(-50%); color: #a0aec0; z-index: 2; font-weight: 500; 
        }
        .currency-input input { padding-left: 48px; }

        #generateBtn { 
            width: 100%; padding: 18px; background: linear-gradient(135deg, #4299e1, #3182ce); 
            color: white; border: none; border-radius: 12px; font-size: 18px; 
            font-weight: 700; cursor: pointer; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
            text-transform: uppercase; letter-spacing: 1px; position: relative; 
            overflow: hidden; box-shadow: 0 4px 15px rgba(66, 153, 225, 0.3); 
        }
        #generateBtn::before { 
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; 
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); 
            transition: left 0.6s; 
        }
        #generateBtn:hover { 
            transform: translateY(-3px); box-shadow: 0 12px 35px rgba(66, 153, 225, 0.4); 
        }
        #generateBtn:hover::before { left: 100%; }
        #generateBtn:active { transform: translateY(-1px); }

        /* Preview Card - Professional Content Display */
        .preview-card { 
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); 
            padding: 40px; border-radius: 24px; box-shadow: 0 20px 60px rgba(0,0,0,0.1); 
            margin-bottom: 40px; display: none; animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1); 
            border: 1px solid rgba(255, 255, 255, 0.2); border-top: 6px solid #4299e1; 
        }
        .preview-card.show { display: block; }
        .preview-header { 
            display: flex; justify-content: space-between; align-items: center; 
            margin-bottom: 32px; padding-bottom: 20px; border-bottom: 2px solid #e2e8f0; 
            position: relative; 
        }
        .preview-header::after { 
            content: ''; position: absolute; bottom: -2px; left: 0; 
            width: 60px; height: 3px; background: linear-gradient(90deg, #4299e1, #3182ce); 
            border-radius: 2px; 
        }
        .preview-header h2 { 
            color: #2d3748; font-size: 2.2em; font-weight: 800; margin: 0; 
            background: linear-gradient(135deg, #4299e1, #3182ce); -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
        }
        .status-badge { 
            background: linear-gradient(135deg, #48bb78, #38a169); color: white; 
            padding: 8px 16px; border-radius: 25px; font-size: 13px; font-weight: 700; 
            text-transform: uppercase; letter-spacing: 0.5px; box-shadow: 0 2px 8px rgba(72, 187, 120, 0.3); 
        }

        .section { margin-bottom: 36px; }
        .section-title { 
            color: #2d3748; margin-bottom: 20px; font-size: 1.6em; font-weight: 700; 
            border-left: 5px solid #4299e1; padding-left: 16px; position: relative; 
        }
        .section-title::before { 
            content: ''; position: absolute; left: -5px; top: 50%; transform: translateY(-50%); 
            width: 5px; height: 100%; background: linear-gradient(to bottom, #4299e1, #3182ce); 
        }
        .section-content p { 
            margin-bottom: 16px; color: #4a5568; font-size: 15px; line-height: 1.7; 
        }
        .section ul { list-style: none; padding-left: 0; }
        .section ul li { 
            padding: 12px 0; border-bottom: 1px solid #e2e8f0; 
            position: relative; padding-left: 32px; 
        }
        .section ul li::before { 
            content: '✓'; position: absolute; left: 0; top: 12px; 
            color: #48bb78; font-weight: bold; font-size: 16px; 
        }
        .section ul li:last-child { border-bottom: none; }

        .milestones-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; 
        }
        .milestone-item { 
            background: rgba(255, 255, 255, 0.7); padding: 24px; border-radius: 16px; 
            border-left: 5px solid #4299e1; position: relative; transition: all 0.3s ease; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); 
        }
        .milestone-item:hover { transform: translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,0.1); }
        .milestone-number { 
            position: absolute; top: -10px; left: 20px; width: 40px; height: 40px; 
            background: linear-gradient(135deg, #4299e1, #3182ce); color: white; 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
            font-weight: 700; font-size: 16px; box-shadow: 0 4px 12px rgba(66, 153, 225, 0.3); 
        }
        .milestone-title { 
            font-size: 1.3em; font-weight: 700; color: #2d3748; margin-bottom: 8px; 
            display: flex; align-items: center; gap: 12px; 
        }
        .milestone-description { color: #4a5568; font-size: 15px; line-height: 1.6; }

        .pricing-section { 
            background: linear-gradient(135deg, rgba(66, 153, 225, 0.03) 0%, rgba(49, 130, 206, 0.03) 100%); 
            padding: 32px; border-radius: 20px; margin: 24px 0; 
        }
        .pricing-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 24px; 
        }
        .pricing-tier { 
            background: white; padding: 32px; border-radius: 20px; 
            border: 2px solid #e2e8f0; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
            position: relative; overflow: hidden; text-align: center; 
        }
        .pricing-tier::before { 
            content: ''; position: absolute; top: 0; left: 0; right: 0; 
            height: 4px; background: linear-gradient(90deg, #4299e1, #48bb78, #ed8936); 
        }
        .pricing-tier:hover { 
            transform: translateY(-8px); box-shadow: 0 25px 50px rgba(0,0,0,0.15); 
            border-color: #4299e1; 
        }
        .tier-badge { 
            position: absolute; top: 20px; right: 20px; background: #4299e1; 
            color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px; 
            font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; 
        }
        .tier-name { 
            font-size: 1.6em; font-weight: 800; color: #2d3748; margin-bottom: 12px; 
        }
        .tier-price { 
            font-size: 2.8em; font-weight: 800; color: #48bb78; margin: 16px 0 20px 0; 
            text-shadow: 0 2px 4px rgba(72, 187, 120, 0.2); 
        }
        .tier-features { list-style: none; margin-bottom: 24px; }
        .tier-features li { 
            padding: 10px 0; border-bottom: 1px solid #e2e8f0; 
            position: relative; padding-left: 32px; text-align: left; 
        }
        .tier-features li::before { 
            content: '✓'; position: absolute; left: 0; top: 10px; 
            color: #48bb78; font-weight: bold; font-size: 16px; 
        }
        .tier-features li:last-child { border-bottom: none; }
        .tier-cta { 
            background: linear-gradient(135deg, #4299e1, #3182ce); 
            color: white; padding: 14px 28px; border: none; border-radius: 10px; 
            font-weight: 700; cursor: pointer; transition: all 0.3s ease; 
            text-transform: uppercase; letter-spacing: 0.5px; font-size: 14px; 
        }
        .tier-cta:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(66, 153, 225, 0.3); }

        /* Export Section - Modern Action Buttons */
        .export-section { 
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(20px); 
            padding: 32px; border-radius: 20px; box-shadow: 0 12px 40px rgba(0,0,0,0.08); 
            text-align: center; margin-bottom: 48px; border: 1px solid rgba(255, 255, 255, 0.2); 
        }
        .export-title { 
            color: #2d3748; font-size: 1.6em; font-weight: 700; margin-bottom: 24px; 
        }
        .export-buttons { 
            display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; 
        }
        .export-btn { 
            display: inline-flex; align-items: center; gap: 12px; 
            padding: 16px 32px; border-radius: 50px; font-weight: 700; 
            cursor: pointer; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
            text-decoration: none; font-size: 16px; border: none; 
            position: relative; overflow: hidden; min-width: 200px; justify-content: center; 
        }
        .export-btn::before { 
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; 
            height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); 
            transition: left 0.6s; z-index: 1; 
        }
        .export-btn span { position: relative; z-index: 2; }
        #copyBtn { 
            background: linear-gradient(135deg, #f7fafc, #edf2f7); color: #4299e1; 
            border: 2px solid #e2e8f0; 
        }
        #copyBtn:hover { 
            background: linear-gradient(135deg, #4299e1, #3182ce); color: white; 
            transform: translateY(-3px); box-shadow: 0 12px 30px rgba(66, 153, 225, 0.3); 
        }
        #pdfBtn { 
            background: linear-gradient(135deg, #48bb78, #38a169); color: white; 
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3); 
        }
        #pdfBtn:hover { 
            transform: translateY(-3px); box-shadow: 0 12px 35px rgba(72, 187, 120, 0.4); 
        }
        #copyBtn:hover::before, #pdfBtn:hover::before { left: 100%; }

        /* Footer - Professional Branding */
        footer { 
            text-align: center; color: #a0aec0; font-size: 14px; font-weight: 400; 
            padding: 32px; background: rgba(255, 255, 255, 0.9); 
            border-radius: 20px; box-shadow: 0 8px 30px rgba(0,0,0,0.06); 
            margin-top: 48px; border: 1px solid rgba(255, 255, 255, 0.2); 
        }
        .footer-content { max-width: 600px; margin: 0 auto; }
        .disclaimer { margin-bottom: 12px; opacity: 0.8; }
        .copyright { font-size: 12px; letter-spacing: 0.5px; }

        /* Error & Success States */
        .error-input { border-color: #e53e3e !important; box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.1) !important; }
        .error-message { 
            color: #e53e3e; font-size: 13px; margin-top: 6px; 
            display: none; font-weight: 500; 
        }
        .success-message { 
            background: linear-gradient(135deg, #48bb78, #38a169); color: white; 
            padding: 12px 20px; border-radius: 12px; margin: 20px 0; 
            font-weight: 500; display: none; 
        }

        /* Animations */
        @keyframes slideInUp { 
            from { opacity: 0; transform: translateY(40px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        .pulse { animation: pulse 2s infinite; }

        /* Responsive Design */
        @media (max-width: 768px) { 
            body { padding: 12px; } 
            h1 { font-size: 2.4em; } 
            .form-card, .preview-card, .export-section, footer { 
                padding: 24px; margin: 16px 0; border-radius: 16px; 
            } 
            .export-buttons { flex-direction: column; align-items: center; gap: 16px; } 
            .pricing-grid, .milestones-grid { grid-template-columns: 1fr; } 
            .preview-header { flex-direction: column; gap: 12px; text-align: center; }
            .section-title { font-size: 1.4em; }
        }
        @media (max-width: 480px) { 
            .container { padding: 0 12px; } 
            .form-card { padding: 20px; } 
            h1 { font-size: 2em; } 
            .tagline { font-size: 1.1em; }
        }

        /* Loading State */
        .loading { opacity: 0.7; pointer-events: none; }
        .loading #generateBtn::after { 
            content: ' ⏳'; animation: spin 1s linear infinite; 
        }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="fade-in">
            <h1>ScopeBuilderAI</h1>
            <p class="tagline">Generate Professional Proposals in Minutes for Web Development & Content Writing</p>
            <select id="langToggle" class="fade-in">
                <option value="en">🇺🇸 English</option>
                <option value="hi">🇮🇳 हिंदी</option>
            </select>
        </header>

        <!-- Form Section -->
        <div class="form-card fade-in">
            <h2 class="form-title">Create New Proposal</h2>
            <form id="proposalForm">
                <div class="form-group">
                    <label for="clientName">Client Name *</label>
                    <input type="text" id="clientName" placeholder="e.g., ABC Marketing Agency" required>
                    <div class="error-message" id="clientNameError">Please enter the client name</div>
                </div>

                <div class="form-group">
                    <label for="brief">Project Brief *</label>
                    <textarea id="brief" placeholder="Describe the project requirements, goals, target audience, and key deliverables..." required></textarea>
                    <div class="error-message" id="briefError">Please provide project details (minimum 20 characters)</div>
                </div>

                <div class="form-group currency-input">
                    <label for="budget">Estimated Budget</label>
                    <input type="number" id="budget" min="100" max="100000" placeholder="e.g., 5000" step="100">
                </div>

                <div class="form-group">
                    <label for="deadline">Preferred Deadline</label>
                    <input type="date" id="deadline">
                </div>

                <div class="form-group">
                    <label for="vertical">Service Type *</label>
                    <select id="vertical" required>
                        <option value="">Select Service Type</option>
                        <option value="web">🌐 Web Development</option>
                        <option value="content">✍️ Content Writing</option>
                    </select>
                    <div class="error-message" id="verticalError">Please select a service type</div>
                </div>

                <button type="button" id="generateBtn" class="fade-in">🚀 Generate Professional Proposal</button>
            </form>

            <div id="loadingMessage" class="success-message" style="display: none;">
                Generating your customized proposal... This may take a moment.
            </div>
        </div>

        <!-- Preview Section -->
        <div id="preview" class="preview-card">
            <div class="preview-header">
                <h2 id="previewTitle">Your Professional Proposal</h2>
                <span class="status-badge" id="statusBadge">Ready to Review</span>
            </div>

            <div id="proposalContent">
                <!-- Dynamic proposal content will be inserted here -->
            </div>
        </div>

        <!-- Export Section -->
        <div class="export-section" id="exportSection">
            <h3 class="export-title">Ready to Share Your Proposal?</h3>
            <p style="color: #718096; margin-bottom: 24px; font-size: 15px;">
                Export your customized proposal in professional formats
            </p>
            <div class="export-buttons">
                <button id="copyBtn" class="export-btn">
                    <span>📋</span>
                    <span>Copy to Clipboard (Google Docs)</span>
                </button>
                <button id="pdfBtn" class="export-btn">
                    <span>📄</span>
                    <span>Download PDF (Client Ready)</span>
                </button>
            </div>
            <div style="margin-top: 20px; padding: 12px; background: #f7fafc; border-radius: 8px; border-left: 4px solid #4299e1;">
                <small style="color: #718096;">
                    💡 <strong>Pro Tip:</strong> Customize the final proposal with your branding and contact details before sending to clients.
                </small>
            </div>
        </div>

        <!-- Footer -->
        <footer class="fade-in">
            <div class="footer-content">
                <p class="disclaimer">
                    This AI-generated proposal is a professional starting point. Please review and customize with your specific branding, 
                    pricing details, and legal terms before sending to clients. ScopeBuilderAI provides templates for convenience only.
                </p>
                <p class="copyright">
                    © 2025 ScopeBuilderAI • Built with ❤️ for Freelancers Worldwide • 
                    <a href="#" style="color: #4299e1; text-decoration: none;">Privacy Policy</a> | 
                    <a href="#" style="color: #4299e1; text-decoration: none;">Terms of Use</a>
                </p>
            </div>
        </footer>
    </div>

    <script>
        // ========================================
        // Language Translations (English & Hindi)
        // ========================================
        const translations = {
            en: {
                // UI Elements
                title: 'Your Professional Proposal',
                formTitle: 'Create New Proposal',
                clientLabel: 'Client Name *',
                briefLabel: 'Project Brief *',
                budgetLabel: 'Estimated Budget',
                deadlineLabel: 'Preferred Deadline',
                verticalLabel: 'Service Type *',
                generateBtn: '🚀 Generate Professional Proposal',
                copyBtn: '📋 Copy to Clipboard (Google Docs)',
                pdfBtn: '📄 Download PDF (Client Ready)',
                statusBadge: 'Ready to Review',
                
                // Proposal Content
                greeting: 'Dear',
                intro: 'Thank you for considering our services. Based on your project brief, we propose the following comprehensive solution tailored to your needs.',
                budgetLabel: 'Project Budget',
                timelineLabel: 'Timeline',
                scopeTitle: 'Scope of Work',
                milestonesTitle: 'Project Milestones & Timeline',
                pricingTitle: 'Investment Options',
                nextStepsTitle: 'Next Steps',
                nextStepsText: 'This proposal is customized based on your requirements. We\'re excited to partner with you on this project and deliver exceptional results.',
                contactTitle: 'Contact Information',
                contactText: 'Your Name | your.email@domain.com | +1 (555) 123-4567',
                closing: 'Best regards,',
                team: 'Your Freelance Team',
                
                // Errors
                clientError: 'Please enter the client name',
                briefError: 'Please provide project details (minimum 20 characters)',
                verticalError: 'Please select a service type',
                
                // Footer
                disclaimer: 'This AI-generated proposal is a professional starting point. Please review and customize with your specific branding, pricing details, and legal terms before sending to clients.',
                copyright: '© 2025 ScopeBuilderAI • Built with ❤️ for Freelancers Worldwide',
                privacy: 'Privacy Policy',
                terms: 'Terms of Use'
            },
            hi: {
                // UI Elements
                title: 'आपका पेशेवर प्रस्ताव',
                formTitle: 'नया प्रस्ताव बनाएं',
                clientLabel: 'ग्राहक का नाम *',
                briefLabel: 'परियोजना का विवरण *',
                budgetLabel: 'अनुमानित बजट',
                deadlineLabel: 'पसंदीदा समयसीमा',
                verticalLabel: 'सेवा प्रकार *',
                generateBtn: '🚀 पेशेवर प्रस्ताव बनाएं',
                copyBtn: '📋 क्लिपबोर्ड में कॉपी करें (Google Docs)',
                pdfBtn: '📄 PDF डाउनलोड करें (ग्राहक के लिए तैयार)',
                statusBadge: 'समीक्षा के लिए तैयार',
                
                // Proposal Content
                greeting: 'प्रिय',
                intro: 'हमारी सेवाओं पर विचार करने के लिए धन्यवाद। आपके परियोजना विवरण के आधार पर, हम आपके आवश्यकतानुसार तैयार की गई निम्नलिखित व्यापक समाधान प्रस्तावित करते हैं।',
                budgetLabel: 'परियोजना बजट',
                timelineLabel: 'समयसीमा',
                scopeTitle: 'कार्य का दायरा',
                milestonesTitle: 'परियोजना मील के पत्थर और समयसीमा',
                pricingTitle: 'निवेश विकल्प',
                nextStepsTitle: 'अगले चरण',
                nextStepsText: 'यह प्रस्ताव आपकी आवश्यकताओं के आधार पर अनुकूलित किया गया है। हम इस परियोजना में आपके साथ साझेदारी करने और असाधारण परिणाम देने के लिए उत्साहित हैं।',
                contactTitle: 'संपर्क जानकारी',
                contactText: 'आपका नाम | your.email@domain.com | +1 (555) 123-4567',
                closing: 'सादर,',
                team: 'आपकी फ्रीलांस टीम',
                
                // Errors
                clientError: 'कृपया ग्राहक का नाम दर्ज करें',
                briefError: 'कृपया परियोजना विवरण प्रदान करें (न्यूनतम 20 वर्ण)',
                verticalError: 'कृपया सेवा प्रकार चुनें',
                
                // Footer
                disclaimer: 'यह AI-जनित प्रस्ताव एक पेशेवर शुरुआती बिंदु है। कृपया अपनी विशिष्ट ब्रांडिंग, मूल्य निर्धारण विवरण और कानूनी शर्तों के साथ समीक्षा करें और ग्राहकों को भेजने से पहले अनुकूलित करें।',
                copyright: '© 2025 ScopeBuilderAI • विश्व भर के फ्रीलांसर्स के लिए ❤️ के साथ बनाया गया',
                privacy: 'गोपनीयता नीति',
                terms: 'उपयोग की शर्तें'
            }
        };

        let currentLang = 'en';

        // ========================================
        // Service Templates - Web Development
        // ========================================
        const webTemplates = {
            scope: [
                '🔍 <strong>Discovery & Requirements Analysis:</strong> In-depth business needs assessment, target audience profiling, technical requirements gathering, and competitive analysis',
                '🎨 <strong>Wireframing & UI/UX Design:</strong> Professional wireframes, user journey mapping, interactive prototypes, and pixel-perfect design mockups with client feedback iterations',
                '💻 <strong>Frontend Development:</strong> Responsive, modern interface using HTML5, CSS3 (Tailwind/SASS), JavaScript (ES6+), and framework integration (React/Vue/Angular as needed)',
                '⚙️ <strong>Backend Development:</strong> Custom server-side architecture, database design (MySQL/PostgreSQL/MongoDB), RESTful API development, authentication systems, and performance optimization',
                '🧪 <strong>Quality Assurance & Testing:</strong> Cross-browser compatibility testing, mobile responsiveness validation, security audits, performance benchmarking, and user acceptance testing',
                '🚀 <strong>Deployment & Launch:</strong> Production server setup, domain configuration, SSL certificate installation, CI/CD pipeline implementation, and 30-day post-launch support'
            ],
            milestones: [
                { 
                    phase: 1, 
                    title: 'Project Kickoff & Discovery', 
                    duration: 'Week 1', 
                    deliverables: 'Requirements document, project roadmap, initial wireframes, technical specifications',
                    percentage: 15
                },
                { 
                    phase: 2, 
                    title: 'Design & Prototyping', 
                    duration: 'Weeks 2-3', 
                    deliverables: 'High-fidelity mockups, interactive prototypes, design system documentation, client approval',
                    percentage: 25
                },
                { 
                    phase: 3, 
                    title: 'Development Sprint 1', 
                    duration: 'Weeks 4-5', 
                    deliverables: 'Core functionality implementation, frontend-backend integration, initial testing',
                    percentage: 30
                },
                { 
                    phase: 4, 
                    title: 'Development Sprint 2 & QA', 
                    duration: 'Weeks 6-7', 
                    deliverables: 'Feature completion, comprehensive QA testing, performance optimization, security audit',
                    percentage: 20
                },
                { 
                    phase: 5, 
                    title: 'Deployment & Launch', 
                    duration: 'Week 8', 
                    deliverables: 'Production deployment, domain configuration, training session, documentation handover',
                    percentage: 10
                }
            ],
            pricing: {
                starter: { 
                    name: 'Starter Website', 
                    range: '$3,500 - $6,000', 
                    duration: '6-8 weeks',
                    features: [
                        '5-8 essential pages (Home, About, Services, Portfolio, Contact)',
                        'Responsive design (mobile-first approach)',
                        'Basic CMS integration (WordPress or static)',
                        'Contact form & lead capture functionality',
                        'SEO foundation (meta tags, sitemap, basic structure)',
                        '1 round of design revisions',
                        '30 days post-launch support'
                    ],
                    bestFor: 'Small businesses establishing online presence'
                },
                growth: { 
                    name: 'Growth Platform', 
                    range: '$8,000 - $15,000', 
                    duration: '8-12 weeks',
                    features: [
                        '10-15 comprehensive pages with custom functionality',
                        'Advanced UI/UX design with micro-interactions',
                        'Custom CMS solution or headless architecture',
                        'E-commerce integration or booking system (if needed)',
                        'Performance optimization (Core Web Vitals)',
                        'Advanced SEO (schema markup, structured data)',
                        '2 rounds of design & 1 round of development revisions',
                        '90 days post-launch support & maintenance'
                    ],
                    bestFor: 'Growing businesses needing scalable solutions'
                },
                enterprise: { 
                    name: 'Enterprise Solution', 
                    range: '$20,000+', 
                    duration: '12+ weeks',
                    features: [
                        'Complex multi-page application with advanced features',
                        'Custom backend development with API integrations',
                        'Advanced security (OAuth, 2FA, GDPR compliance)',
                        'Progressive Web App (PWA) capabilities',
                        'Comprehensive analytics & reporting dashboard',
                        'DevOps setup (CI/CD, staging environment)',
                        'Unlimited design revisions, 2 development sprints',
                        '6 months dedicated support & quarterly maintenance'
                    ],
                    bestFor: 'Established companies requiring robust digital infrastructure'
                }
            }
        };

        // ========================================
        // Service Templates - Content Writing
        // ========================================
        const contentTemplates = {
            scope: [
                '📊 <strong>Keyword Research & Strategy:</strong> Comprehensive SEO keyword analysis, competitor content audit, search intent mapping, and content gap identification using tools like Ahrefs/SEMrush',
                '🗺️ <strong>Content Architecture & Planning:</strong> Strategic content pillar development, topic cluster creation, editorial calendar planning, and user journey content mapping',
                '✍️ <strong>Professional Content Creation:</strong> Research-backed, authoritative writing with proper attribution, storytelling techniques, and brand voice consistency across all deliverables',
                '🔍 <strong>SEO Technical Optimization:</strong> On-page SEO implementation, internal linking strategy, header hierarchy optimization, image alt text, and schema markup integration',
                '📝 <strong>Editing & Quality Assurance:</strong> Multi-stage editing (developmental, copyediting, proofreading), fact-checking, plagiarism verification, and readability analysis',
                '🚀 <strong>Content Distribution & Performance:</strong> CMS publishing, social media promotion planning, performance tracking setup, and content repurposing strategy'
            ],
            milestones: [
                { 
                    phase: 1, 
                    title: 'Strategy & Research Foundation', 
                    duration: 'Week 1', 
                    deliverables: 'SEO keyword strategy, content pillar framework, editorial calendar, research report',
                    percentage: 20
                },
                { 
                    phase: 2, 
                    title: 'Content Framework Development', 
                    duration: 'Weeks 2-3', 
                    deliverables: 'Detailed outlines, content briefs, writing plan, initial drafts for approval',
                    percentage: 25
                },
                { 
                    phase: 3, 
                    title: 'Content Production Sprint', 
                    duration: 'Weeks 4-6', 
                    deliverables: 'Primary content creation, first round editing, SEO implementation, visual asset coordination',
                    percentage: 30
                },
                { 
                    phase: 4, 
                    title: 'Optimization & Quality Control', 
                    duration: 'Weeks 7-8', 
                    deliverables: 'Final editing, technical SEO audit, performance optimization, client review & revisions',
                    percentage: 15
                },
                { 
                    phase: 5, 
                    title: 'Publishing & Performance Setup', 
                    duration: 'Week 9', 
                    deliverables: 'CMS publishing, internal linking implementation, analytics tracking setup, final delivery',
                    percentage: 10
                }
            ],
            pricing: {
                starter: { 
                    name: 'Content Foundation', 
                    range: '$1,200/month (4 pieces)', 
                    duration: 'Monthly retainer',
                    features: [
                        '4x SEO-optimized blog posts (800-1,200 words each)',
                        'Basic keyword research (10-15 keywords per post)',
                        'Standard on-page SEO optimization',
                        'Content outlines and editorial planning',
                        '1 round of revisions per piece',
                        'WordPress CMS formatting and publishing',
                        'Basic performance tracking setup'
                    ],
                    bestFor: 'Businesses starting content marketing'
                },
                growth: { 
                    name: 'Content Accelerator', 
                    range: '$2,800/month (8 pieces)', 
                    duration: 'Monthly retainer',
                    features: [
                        '8x premium blog posts (1,200-1,800 words each)',
                        'Advanced keyword research (20-30 keywords per post)',
                        'Competitor content analysis and gap identification',
                        'Content pillar and cluster strategy development',
                        '2 rounds of revisions per piece',
                        'Advanced SEO (schema markup, internal linking)',
                        'Social media content repurposing (4 pieces/month)',
                        'Monthly content performance reporting'
                    ],
                    bestFor: 'Growing businesses scaling content efforts'
                },
                enterprise: { 
                    name: 'Content Authority', 
                    range: '$5,500/month (12+ pieces)', 
                    duration: 'Monthly retainer',
                    features: [
                        '12+ premium content pieces (1,500-2,500 words each)',
                        'Comprehensive content strategy and roadmap',
                        'Technical SEO audit and implementation',
                        'Video script writing and multimedia content (4 pieces)',
                        'Email newsletter content development (monthly)',
                        'Unlimited revisions and priority support',
                        'Advanced analytics and ROI reporting',
                        'Content distribution strategy (guest posts, PR)',
                        'Team collaboration and workflow optimization'
                    ],
                    bestFor: 'Established brands building content authority'
                }
            }
        };

        // ========================================
        // Core Application Logic
        // ========================================
        class ScopeBuilderAI {
            constructor() {
                this.form = document.getElementById('proposalForm');
                this.generateBtn = document.getElementById('generateBtn');
                this.preview = document.getElementById('preview');
                this.previewContent = document.getElementById('proposalContent');
                this.exportSection = document.getElementById('exportSection');
                this.langToggle = document.getElementById('langToggle');
                this.copyBtn = document.getElementById('copyBtn');
                this.pdfBtn = document.getElementById('pdfBtn');
                this.previewTitle = document.getElementById('previewTitle');
                this.statusBadge = document.getElementById('statusBadge');
                this.loadingMessage = document.getElementById('loadingMessage');

                this.currentLang = 'en';
                this.generatedProposal = null;

                this.init();
            }

            init() {
                // Event Listeners
                this.generateBtn.addEventListener('click', () => this.generateProposal());
                this.langToggle.addEventListener('change', (e) => this.switchLanguage(e.target.value));
                this.copyBtn.addEventListener('click', () => this.copyToClipboard());
                this.pdfBtn.addEventListener('click', () => this.exportPDF());

                // Form validation listeners
                ['clientName', 'brief', 'vertical'].forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    field.addEventListener('input', () => this.clearFieldError(fieldId));
                    field.addEventListener('blur', () => this.validateField(fieldId));
                });

                // Initialize language
                this.updateLanguageUI();
                console.log('🌟 ScopeBuilderAI initialized successfully');
            }

            // ========================================
            // Form Validation
            // ========================================
            validateForm() {
                let isValid = true;
                const requiredFields = ['clientName', 'brief', 'vertical'];
                const brief = document.getElementById('brief').value.trim();

                requiredFields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    const value = field.value.trim();
                    const errorElement = document.getElementById(fieldId + 'Error');

                    if (!value) {
                        this.showFieldError(fieldId, fieldId === 'brief' ? 'Please provide project details' : 'This field is required');
                        isValid = false;
                    } else if (fieldId === 'brief' && value.length < 20) {
                        this.showFieldError(fieldId, 'Project brief should be at least 20 characters long');
                        isValid = false;
                    } else {
                        this.clearFieldError(fieldId);
                    }
                });

                return isValid;
            }

            showFieldError(fieldId, message) {
                const field = document.getElementById(fieldId);
                const errorElement = document.getElementById(fieldId + 'Error');
                
                field.classList.add('error-input');
                errorElement.textContent = message;
                errorElement.style.display = 'block';
            }

            clearFieldError(fieldId) {
                const field = document.getElementById(fieldId);
                const errorElement = document.getElementById(fieldId + 'Error');
                
                field.classList.remove('error-input');
                errorElement.style.display = 'none';
            }

            validateField(fieldId) {
                const field = document.getElementById(fieldId);
                const value = field.value.trim();
                
                if (!value) {
                    this.showFieldError(fieldId, 'This field is required');
                } else if (fieldId === 'brief' && value.length < 20) {
                    this.showFieldError(fieldId, 'Project brief should be at least 20 characters long');
                } else {
                    this.clearFieldError(fieldId);
                }
            }

            // ========================================
            // Proposal Generation
            // ========================================
            async generateProposal() {
                if (!this.validateForm()) {
                    this.showNotification('Please fill in all required fields correctly.', 'error');
                    return;
                }

                // Show loading state
                this.showLoadingState();

                // Get form data
                const formData = {
                    clientName: document.getElementById('clientName').value.trim(),
                    brief: document.getElementById('brief').value.trim(),
                    budget: parseInt(document.getElementById('budget').value) || 0,
                    deadline: document.getElementById('deadline').value,
                    vertical: document.getElementById('vertical').value
                };

                // Select appropriate template
                const template = formData.vertical === 'web' ? webTemplates : contentTemplates;
                const t = translations[this.currentLang];

                try {
                    // Simulate AI processing delay
                    await this.sleep(1500);

                    // Generate personalized proposal
                    const proposalHTML = this.createProposalHTML(formData, template, t);
                    this.generatedProposal = proposalHTML;

                    // Update UI
                    this.previewContent.innerHTML = proposalHTML;
                    this.preview.classList.add('show');
                    this.exportSection.style.display = 'block';
                    
                    // Update dynamic elements
                    this.previewTitle.textContent = t.title;
                    this.statusBadge.textContent = this.currentLang === 'en' ? '✅ Proposal Generated Successfully!' : '✅ प्रस्ताव सफलतापूर्वक तैयार!';
                    this.statusBadge.style.background = 'linear-gradient(135deg, #48bb78, #38a169)';
                    
                    // Scroll to preview
                    this.preview.scrollIntoView({ behavior: 'smooth' });

                    // Hide loading
                    this.hideLoadingState();
                    this.showNotification(this.currentLang === 'en' ? 'Proposal generated successfully!' : 'प्रस्ताव सफलतापूर्वक तैयार!', 'success');

                } catch (error) {
                    console.error('Proposal generation failed:', error);
                    this.hideLoadingState();
                    this.showNotification('Failed to generate proposal. Please try again.', 'error');
                }
            }

            createProposalHTML(formData, template, t) {
                const budget = formData.budget;
                const deadline = formData.deadline ? new Date(formData.deadline).toLocaleDateString() : 'TBD';
                
                // Calculate timeline based on budget
                const weeks = Math.max(4, Math.min(16, Math.round(budget / 750)));

                return `
                    <div class="proposal-header">
                        <div class="client-greeting">
                            <h2>${t.greeting} <strong>${formData.clientName}</strong></h2>
                            <p class="greeting-subtitle">
                                ${this.currentLang === 'en' ? 
                                    'Thank you for the opportunity to propose our services for your exciting project.' : 
                                    'आपके रोमांचक परियोजना के लिए हमारी सेवाओं का प्रस्ताव देने के अवसर के लिए धन्यवाद।'
                                }
                            </p>
                        </div>
                        
                        <div class="project-summary" style="background: #f7fafc; padding: 20px; border-radius: 12px; border-left: 4px solid #4299e1; margin: 24px 0;">
                            <h3 style="color: #2d3748; margin-bottom: 12px;">Project Summary</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; font-size: 15px;">
                                <div><strong>Service:</strong> ${formData.vertical === 'web' ? 'Web Development' : 'Content Writing'}</div>
                                <div><strong>Budget:</strong> $${budget.toLocaleString()}</div>
                                <div><strong>Timeline:</strong> ${weeks} weeks</div>
                                <div><strong>Target Launch:</strong> ${deadline}</div>
                            </div>
                        </div>
                    </div>

                    <!-- Scope of Work -->
                    <div class="section">
                        <h3 class="section-title">${t.scopeTitle}</h3>
                        <div class="scope-overview">
                            <p style="margin-bottom: 20px; font-size: 16px; color: #4a5568;">
                                Based on your project brief "${formData.brief.substring(0, 150)}${formData.brief.length > 150 ? '...' : ''}", 
                                we propose a comprehensive approach that includes:
                            </p>
                            <div style="display: grid; gap: 16px; margin-bottom: 32px;">
                                ${template.scope.map((item, index) => `
                                    <div style="display: flex; align-items: flex-start; gap: 12px; padding: 16px; background: white; border-radius: 12px; border-left: 4px solid #4299e1; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                                        <div style="width: 32px; height: 32px; background: linear-gradient(135deg, #4299e1, #3182ce); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; flex-shrink: 0; font-size: 14px;">${index + 1}</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600; color: #2d3748; margin-bottom: 4px;">${item.split(':')[0].trim()}</div>
                                            <div style="color: #4a5568; line-height: 1.5;">${item.split(':').slice(1).join(':').trim()}</div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>

                    <!-- Milestones -->
                    <div class="section">
                        <h3 class="section-title">${t.milestonesTitle}</h3>
                        <p style="margin-bottom: 24px; color: #4a5568; font-size: 15px;">
                            Our ${weeks}-week project timeline ensures steady progress with clear deliverables at each stage:
                        </p>
                        <div class="milestones-grid">
                            ${template.milestones.map((milestone, index) => {
                                const adjustedDuration = milestone.duration.replace('Week', '').replace('Weeks', '');
                                const weekNum = Math.max(1, Math.round((index + 1) * weeks / template.milestones.length));
                                return `
                                    <div class="milestone-item">
                                        <div class="milestone-number">${weekNum}</div>
                                        <div class="milestone-title">
                                            <span style="color: #4299e1; font-weight: 700; margin-right: 8px;">Week ${weekNum}</span>
                                            ${milestone.title}
                                        </div>
                                        <div class="milestone-description" style="margin-top: 12px; color: #4a5568;">
                                            ${milestone.description}
                                        </div>
                                        <div style="margin-top: 16px; padding: 12px; background: #f7fafc; border-radius: 8px; font-size: 14px; color: #718096;">
                                            <strong>Deliverables:</strong> ${milestone.deliverables}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        <div style="margin-top: 24px; padding: 20px; background: linear-gradient(135deg, #f0fff4, #f0f9ff); border-radius: 12px; border-left: 4px solid #48bb78; text-align: center;">
                            <h4 style="color: #2d3748; margin-bottom: 8px;">📅 Timeline Guarantee</h4>
                            <p style="color: #4a5568; font-size: 15px;">
                                We guarantee delivery of Week 1 deliverables within 7 business days of project kickoff. 
                                Each subsequent milestone follows the agreed timeline unless scope changes are requested.
                            </p>
                        </div>
                    </div>

                    <!-- Pricing Section -->
                    <div class="section pricing-section">
                        <h3 class="section-title">${t.pricingTitle}</h3>
                        <p style="margin-bottom: 28px; text-align: center; font-size: 16px; color: #4a5568;">
                            Based on your $${budget.toLocaleString()} budget and project requirements, we recommend:
                        </p>
                        
                        <div class="pricing-grid">
                            ${Object.entries(template.pricing).map(([tier, data], index) => {
                                const recommended = budget >= 8000 ? 'growth' : budget >= 3500 ? 'starter' : 'starter';
                                const isRecommended = tier === recommended;
                                const colors = { starter: '#4299e1', growth: '#48bb78', enterprise: '#ed8936' };
                                return `
                                    <div class="pricing-tier ${isRecommended ? 'recommended' : ''}" style="position: relative;">
                                        ${isRecommended ? '<div class="tier-badge" style="background: #48bb78;">Recommended</div>' : ''}
                                        <h4 class="tier-name" style="color: ${colors[tier]};">${data.name}</h4>
                                        <div class="tier-price" style="font-size: 2.4em; margin: 12px 0 20px 0;">${data.range}</div>
                                        <div class="tier-duration" style="color: #718096; margin-bottom: 24px; font-size: 14px;">
                                            ${data.duration}
                                        </div>
                                        <ul class="tier-features">
                                            ${data.features.map(feature => `<li>${feature}</li>`).join('')}
                                        </ul>
                                        <div class="tier-footer" style="margin-top: 24px; padding-top: 20px; border-top: 1px solid #e2e8f0;">
                                            <p style="color: #718096; font-size: 14px; margin-bottom: 16px; font-style: italic;">
                                                ${data.bestFor}
                                            </p>
                                            <button class="tier-cta" style="background: ${colors[tier]}; color: white;">
                                                ${isRecommended ? '📌 Select This Package' : 'Select Package'}
                                            </button>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>

                        <div style="margin-top: 40px; padding: 24px; background: #f7fafc; border-radius: 16px; border-left: 4px solid #ed8936; text-align: center;">
                            <h4 style="color: #2d3748; margin-bottom: 12px;">💰 Investment Summary</h4>
                            <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; font-size: 15px;">
                                <div><strong>Recommended:</strong> ${template.pricing[budget >= 8000 ? 'growth' : budget >= 3500 ? 'starter' : 'starter'].name}</div>
                                <div><strong>Total Investment:</strong> ${budget >= 8000 ? '$8,000 - $15,000' : budget >= 3500 ? '$3,500 - $6,000' : 'Contact for Custom Quote'}</div>
                                <div><strong>Timeline:</strong> ${weeks} weeks</div>
                            </div>
                        </div>
                    </div>

                    <!-- Next Steps -->
                    <div class="section">
                        <h3 class="section-title">${t.nextStepsTitle}</h3>
                        <div style="background: linear-gradient(135deg, #f0fff4, #f0f9ff); padding: 28px; border-radius: 16px; border-left: 5px solid #48bb78;">
                            <h4 style="color: #2d3748; margin-bottom: 16px; font-size: 1.4em;">📋 Implementation Roadmap</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
                                <div style="text-align: center; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
                                    <div style="font-size: 2.5em; margin-bottom: 12px;">📞</div>
                                    <h5 style="font-weight: 700; color: #2d3748; margin-bottom: 8px;">Step 1: Kickoff Call</h5>
                                    <p style="color: #4a5568; font-size: 14px;">Schedule 60-minute discovery call within 48 hours to finalize scope and timeline</p>
                                </div>
                                <div style="text-align: center; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
                                    <div style="font-size: 2.5em; margin-bottom: 12px;">📄</div>
                                    <h5 style="font-weight: 700; color: #2d3748; margin-bottom: 8px;">Step 2: Contract & 50% Deposit</h5>
                                    <p style="color: #4a5568; font-size: 14px;">Formal agreement and initial payment to secure project start date</p>
                                </div>
                                <div style="text-align: center; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
                                    <div style="font-size: 2.5em; margin-bottom: 12px;">🚀</div>
                                    <h5 style="font-weight: 700; color: #2d3748; margin-bottom: 8px;">Step 3: Project Delivery</h5>
                                    <p style="color: #4a5568; font-size: 14px;">Regular weekly updates and final delivery per agreed timeline</p>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 32px; padding: 24px; background: #fff5f5; border-radius: 12px; border-left: 4px solid #e53e3e;">
                            <h4 style="color: #2d3748; margin-bottom: 12px;">⚠️ Important Notes</h4>
                            <ul style="color: #718096; font-size: 14px; list-style: disc; padding-left: 20px;">
                                <li>This proposal is AI-generated and serves as a professional template</li>
                                <li>Final pricing and timeline to be confirmed after discovery call</li>
                                <li>All deliverables subject to client approval at each milestone</li>
                                <li>Additional features may require scope adjustment and pricing update</li>
                                <li>50% deposit required to commence work</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="section">
                        <h3 class="section-title">${t.contactTitle}</h3>
                        <div style="background: linear-gradient(135deg, #f7fafc, #edf2f7); padding: 28px; border-radius: 16px; text-align: center;">
                            <p style="font-size: 16px; color: #4a5568; margin-bottom: 20px;">
                                Ready to get started? Let's schedule a call to discuss your project in detail and finalize the next steps.
                            </p>
                            <div style="display: flex; justify-content: center; gap: 32px; flex-wrap: wrap; margin-top: 24px;">
                                <div style="text-align: center;">
                                    <div style="font-size: 2.5em; margin-bottom: 8px;">📧</div>
                                    <div style="font-weight: 700; color: #2d3748; margin-bottom: 4px;">Email</div>
                                    <div style="color: #718096; font-size: 14px;">yourname@domain.com</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 2.5em; margin-bottom: 8px;">📱</div>
                                    <div style="font-weight: 700; color: #2d3748; margin-bottom: 4px;">Phone</div>
                                    <div style="color: #718096; font-size: 14px;">+1 (555) 123-4567</div>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-size: 2.5em; margin-bottom: 8px;">💬</div>
                                    <div style="font-weight: 700; color: #2d3748; margin-bottom: 4px;">Chat</div>
                                    <div style="color: #718096; font-size: 14px;">WhatsApp / Telegram</div>
                                </div>
                            </div>
                            <div style="margin-top: 24px; padding: 16px; background: white; border-radius: 12px; border-left: 4px solid #48bb78;">
                                <p style="color: #2d3748; font-weight: 600; margin-bottom: 8px;">
                                    ⏰ Availability
                                </p>
                                <p style="color: #718096; font-size: 14px;">
                                    Monday - Friday: 9 AM - 6 PM EST<br>
                                    Emergency support available 24/7<br>
                                    Response time: &lt; 2 hours during business hours
                                </p>
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center; margin: 40px 0; padding: 24px; background: linear-gradient(135deg, #f0fff4, #f0f9ff); border-radius: 16px;">
                        <h3 style="color: #2d3748; margin-bottom: 16px; font-size: 1.6em;">
                            🎯 Ready to Transform Your Business?
                        </h3>
                        <p style="color: #4a5568; font-size: 16px; max-width: 600px; margin: 0 auto;">
                            This proposal represents our commitment to delivering exceptional results. 
                            Let's schedule a discovery call to finalize details and get your project started.
                        </p>
                        <div style="margin-top: 24px;">
                            <button style="
                                background: linear-gradient(135deg, #48bb78, #38a169); 
                                color: white; border: none; padding: 16px 40px; 
                                border-radius: 50px; font-weight: 700; font-size: 16px; 
                                cursor: pointer; box-shadow: 0 8px 25px rgba(72, 187, 120, 0.3); 
                                transition: all 0.3s ease;
                            " onclick="window.open('mailto:your.email@domain.com?subject=Proposal%20Follow%20Up&body=I%20received%20your%20proposal%20for%20${document.getElementById('clientName').value}%20and%20would%20like%20to%20discuss%20next%20steps.')">
                                📅 Schedule Discovery Call
                            </button>
                        </div>
                    </div>

                    <div style="text-align: right; margin-top: 48px; padding: 20px; background: #f7fafc; border-radius: 12px; border-top: 3px solid #4299e1;">
                        <p style="color: #718096; font-size: 14px; margin: 0;">
                            Prepared by <strong>ScopeBuilderAI</strong> • Generated on ${new Date().toLocaleDateString()} • 
                            <span style="color: #4299e1;">Version 1.0</span>
                        </p>
                    </div>
                `;
            }

            // ========================================
            // Language Management
            // ========================================
            switchLanguage(lang) {
                this.currentLang = lang;
                this.updateLanguageUI();
                
                // Re-generate proposal if one exists
                if (this.generatedProposal) {
                    this.previewContent.innerHTML = this.generatedProposal.replace(
                        /<h[1-6][^>]*>(.*?)<\/h[1-6]>/g, 
                        (match, content) => match.replace(content, translations[lang].title || content)
                    );
                    this.previewTitle.textContent = translations[lang].title;
                }

                // Update status and buttons
                this.statusBadge.textContent = lang === 'en' ? 
                    '✅ Proposal Generated Successfully!' : 
                    '✅ प्रस्ताव सफलतापूर्वक तैयार!';

                this.showNotification(
                    lang === 'en' ? 
                        'Language switched successfully!' : 
                        'भाषा सफलतापूर्वक बदल दी गई!',
                    'success'
                );
            }

            updateLanguageUI() {
                const t = translations[this.currentLang];
                const lang = this.currentLang;

                // Update form labels and buttons
                document.querySelector('.form-title').textContent = t.formTitle;
                document.querySelector('#clientName').placeholder = lang === 'en' ? 
                    'e.g., ABC Marketing Agency' : 'उदाहरण: एबीसी मार्केटिंग एजेंसी';
                document.querySelector('#brief').placeholder = lang === 'en' ? 
                    'Describe the project requirements, goals, target audience, and key deliverables...' : 
                    'परियोजना आवश्यकताओं, लक्ष्यों, लक्षित दर्शकों और प्रमुख deliverables का वर्णन करें...';
                document.querySelector('#vertical option[value="web"]').textContent = lang === 'en' ? '🌐 Web Development' : '🌐 वेब विकास';
                document.querySelector('#vertical option[value="content"]').textContent = lang === 'en' ? '✍️ Content Writing' : '✍️ सामग्री लेखन';
                this.generateBtn.textContent = t.generateBtn;

                // Update export buttons
                this.copyBtn.innerHTML = `<span>📋</span><span>${t.copyBtn}</span>`;
                this.pdfBtn.innerHTML = `<span>📄</span><span>${t.pdfBtn}</span>`;

                // Update footer
                document.querySelector('.disclaimer').textContent = t.disclaimer;
                document.querySelector('.copyright').innerHTML = `
                    ${t.copyright} • 
                    <a href="#" style="color: #4299e1; text-decoration: none;">${t.privacy}</a> | 
                    <a href="#" style="color: #4299e1; text-decoration: none;">${t.terms}</a>
                `;

                // Update header tagline
                document.querySelector('.tagline').textContent = lang === 'en' ? 
                    'Generate Professional Proposals in Minutes for Web Development & Content Writing' : 
                    'वेब विकास और सामग्री लेखन के लिए मिनटों में पेशेवर प्रस्ताव बनाएं';

                // Adjust styling for Hindi (slightly larger font for Devanagari)
                document.body.style.fontSize = lang === 'hi' ? '16.5px' : '16px';
            }

            // ========================================
            // Export Functions
            // ========================================
            copyToClipboard() {
                if (!this.generatedProposal) {
                    this.showNotification('Please generate a proposal first.', 'error');
                    return;
                }

                // Create clean text version
                const cleanText = this.previewContent.innerText
                    .replace(/\s+/g, ' ')
                    .trim()
                    .replace(/\$/g, '$ ')
                    .replace(/Week(s)? /g, 'Week$1: ')
                    .replace(/Days? /g, 'Day$1: ');

                navigator.clipboard.writeText(cleanText).then(() => {
                    // Visual feedback
                    const originalHTML = this.copyBtn.innerHTML;
                    this.copyBtn.innerHTML = '<span>✅</span><span>Copied to Clipboard!</span>';
                    this.copyBtn.style.background = 'linear-gradient(135deg, #48bb78, #38a169)';
                    this.copyBtn.style.color = 'white';
                    this.copyBtn.style.transform = 'scale(1.02)';

                    setTimeout(() => {
                        this.copyBtn.innerHTML = originalHTML;
                        this.copyBtn.style.background = '';
                        this.copyBtn.style.color = '';
                        this.copyBtn.style.transform = '';
                    }, 2000);

                    this.showNotification(
                        this.currentLang === 'en' ? 
                            'Proposal copied to clipboard! Paste into Google Docs for final formatting.' : 
                            'प्रस्ताव क्लिपबोर्ड में कॉपी हो गया! अंतिम फॉर्मेटिंग के लिए Google Docs में पेस्ट करें।',
                        'success'
                    );

                    // Auto-open Google Docs (optional)
                    // window.open('https://docs.google.com/document/create', '_blank');
                }).catch(err => {
                    console.error('Copy failed:', err);
                    this.showNotification('Copy failed. Please try again.', 'error');
                });
            }

            exportPDF() {
                if (!this.generatedProposal) {
                    this.showNotification('Please generate a proposal first.', 'error');
                    return;
                }

                this.showLoadingState('Preparing PDF...');

                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF('p', 'mm', 'a4'); // Portrait for better readability

                    // Header with branding
                    const headerImgData = 'data:image/svg+xml;base64,...'; // You can add a logo here
                    // doc.addImage(headerImgData, 'PNG', 14, 10, 50, 20); // Uncomment if you have logo

                    doc.setFontSize(24);
                    doc.setFont('helvetica', 'bold');
                    doc.setTextColor(66, 153, 225);
                    doc.text('Professional Project Proposal', 105, 25, { align: 'center' });

                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'normal');
                    doc.setTextColor(45, 55, 72);
                    doc.text('Generated by ScopeBuilderAI', 105, 35, { align: 'center' });

                    // Client information
                    let yPosition = 50;
                    doc.setFontSize(14);
                    doc.setFont('helvetica', 'bold');
                    doc.text(`${translations[this.currentLang].greeting} ${document.getElementById('clientName').value}`, 20, yPosition);

                    yPosition += 15;
                    doc.setFontSize(11);
                    doc.setFont('helvetica', 'normal');
                    doc.text('Date: ' + new Date().toLocaleDateString(), 20, yPosition);
                    yPosition += 6;
                    doc.text('Prepared by: ScopeBuilderAI Team', 20, yPosition);
                    yPosition += 6;
                    doc.text('Service: ' + (document.getElementById('vertical').value === 'web' ? 'Web Development' : 'Content Writing'), 20, yPosition);

                    // Project summary
                    yPosition += 15;
                    doc.setFontSize(12);
                    doc.setFont('helvetica', 'bold');
                    doc.text('Project Summary', 20, yPosition);
                    yPosition += 8;
                    doc.setFont('helvetica', 'normal');
                    doc.text(`Budget: $${document.getElementById('budget').value || 'To be determined'}`, 20, yPosition);
                    yPosition += 6;
                    const deadline = document.getElementById('deadline').value;
                    if (deadline) {
                        doc.text(`Timeline: ${new Date(deadline).toLocaleDateString()}`, 20, yPosition);
                        yPosition += 6;
                    }

                    // Proposal content
                    yPosition += 15;
                    const content = this.previewContent.innerText
                        .replace(/Week(s)? /g, 'Week$1: ')
                        .replace(/Days? /g, 'Day$1: ')
                        .split('\n')
                        .filter(line => line.trim().length > 0);

                    doc.setFontSize(10);
                    content.forEach((line, index) => {
                        if (yPosition > 270) {
                            doc.addPage();
                            yPosition = 20;
                        }
                        
                        // Check if line is a heading
                        if (line.match(/^[A-Z][a-z]+.*:$/) || line.includes(':')) {
                            doc.setFont('helvetica', 'bold');
                            doc.setFontSize(11);
                        } else {
                            doc.setFont('helvetica', 'normal');
                            doc.setFontSize(10);
                        }

                        const words = line.split(' ');
                        let currentLine = '';
                        
                        words.forEach(word => {
                            const testLine = currentLine ? currentLine + ' ' + word : word;
                            const textWidth = doc.getTextWidth(testLine);
                            
                            if (textWidth > 170) {
                                if (yPosition > 270) {
                                    doc.addPage();
                                    yPosition = 20;
                                }
                                doc.text(currentLine, 20, yPosition);
                                yPosition += 6;
                                currentLine = word;
                            } else {
                                currentLine = testLine;
                            }
                        });
                        
                        if (currentLine && yPosition <= 270) {
                            doc.text(currentLine, 20, yPosition);
                            yPosition += 6;
                        }
                    });

                    // Footer with branding
                    const pageCount = doc.internal.getNumberOfPages();
                    for (let i = 1; i <= pageCount; i++) {
                        doc.setPage(i);
                        
                        // Page numbers
                        doc.setFontSize(8);
                        doc.setFont('helvetica', 'normal');
                        doc.setTextColor(128, 128, 128);
                        doc.text(`Page ${i} of ${pageCount}`, 105, 290, { align: 'center' });
                        
                        // Watermark
                        doc.setFontSize(40);
                        doc.setFont('helvetica', 'normal');
                        doc.setTextColor(220, 220, 220);
                        doc.setGState(new doc.GState({ opacity: 0.1 }));
                        doc.text('ScopeBuilderAI', 105, 150, { align: 'center', angle: 45 });
                        doc.setGState(new doc.GState({ opacity: 1 }));
                        
                        // Confidentiality notice
                        doc.setFontSize(7);
                        doc.setTextColor(150, 150, 150);
                        doc.text('Confidential - Generated by ScopeBuilderAI • For Professional Use Only', 105, 285, { align: 'center' });
                    }

                    // Generate filename
                    const clientName = document.getElementById('clientName').value
                        .toLowerCase()
                        .replace(/[^a-z0-9\s-]/g, '')
                        .replace(/\s+/g, '-')
                        .replace(/-+/g, '-')
                        .trim('-');
                    
                    const service = document.getElementById('vertical').value === 'web' ? 'web-development' : 'content-writing';
                    const timestamp = new Date().toISOString().slice(0, 10);
                    
                    const filename = `proposal-${service}-${clientName || 'client'}-${timestamp}.pdf`;

                    // Save and show success
                    doc.save(filename);

                    // Visual feedback
                    const originalHTML = this.pdfBtn.innerHTML;
                    this.pdfBtn.innerHTML = '<span>✅</span><span>PDF Downloaded!</span>';
                    this.pdfBtn.style.background = 'linear-gradient(135deg, #48bb78, #38a169)';
                    
                    setTimeout(() => {
                        this.pdfBtn.innerHTML = originalHTML;
                        this.pdfBtn.style.background = '';
                    }, 2500);

                    this.showNotification(
                        `Professional PDF exported as "${filename}" • Ready to send to ${document.getElementById('clientName').value}!`,
                        'success'
                    );

                    this.hideLoadingState();

                } catch (error) {
                    console.error('PDF generation failed:', error);
                    this.hideLoadingState();
                    this.showNotification('PDF export failed. Please try again or contact support.', 'error');
                }
            }

            // ========================================
            // Utility Functions
            // ========================================
            showLoadingState(message = 'Generating your proposal...') {
                this.generateBtn.disabled = true;
                this.generateBtn.classList.add('loading');
                this.generateBtn.textContent = '⏳ Generating...';
                this.loadingMessage.textContent = message;
                this.loadingMessage.style.display = 'block';
                document.body.style.cursor = 'wait';
            }

            hideLoadingState() {
                this.generateBtn.disabled = false;
                this.generateBtn.classList.remove('loading');
                this.generateBtn.textContent = translations[this.currentLang].generateBtn;
                this.loadingMessage.style.display = 'none';
                document.body.style.cursor = 'default';
            }

            showNotification(message, type = 'info') {
                // Create notification element
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed; top: 20px; right: 20px; padding: 16px 24px; 
                    border-radius: 12px; font-weight: 600; font-size: 14px; z-index: 10000;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.2); max-width: 350px;
                    ${type === 'success' ? 'background: linear-gradient(135deg, #48bb78, #38a169); color: white;' : 
                      type === 'error' ? 'background: linear-gradient(135deg, #e53e3e, #c53030); color: white;' : 
                      'background: linear-gradient(135deg, #4299e1, #3182ce); color: white;'}
                `;
                notification.textContent = message;
                
                document.body.appendChild(notification);
                
                // Auto-remove after 4 seconds
                setTimeout(() => {
                    notification.style.transition = 'all 0.3s ease';
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateX(100%)';
                    setTimeout(() => notification.remove(), 300);
                }, 4000);
            }

            sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            // ========================================
            // Responsive Enhancements
            // ========================================
            updateResponsive() {
                const isMobile = window.innerWidth < 768;
                const formTitle = document.querySelector('.form-title');
                
                if (isMobile) {
                    document.body.style.padding = '12px';
                    if (formTitle) formTitle.style.fontSize = '1.5em';
                } else {
                    document.body.style.padding = '20px';
                    if (formTitle) formTitle.style.fontSize = '1.8em';
                }
            }
        }

        // Initialize application when DOM loads
        document.addEventListener('DOMContentLoaded', () => {
            window.scopeBuilder = new ScopeBuilderAI();
            
            // Handle window resize for responsive updates
            window.addEventListener('resize', () => scopeBuilder.updateResponsive());
            scopeBuilder.updateResponsive();
            
            console.log('🎯 ScopeBuilderAI Professional Edition loaded successfully');
            console.log('💡 Features: Multi-language, PDF Export, Responsive Design, SaaS UI');
        });

        // Global error handler
        window.addEventListener('error', (e) => {
            console.error('ScopeBuilderAI Error:', e.error);
            if (typeof scopeBuilder !== 'undefined') {
                scopeBuilder.showNotification('An unexpected error occurred. Please refresh and try again.', 'error');
            }
        });

        // Prevent form submission
        document.getElementById('proposalForm').addEventListener('submit', (e) => {
            e.preventDefault();
        });
    </script>
</body>
</html>
